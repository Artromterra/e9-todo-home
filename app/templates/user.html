{% extends "base.html" %}

{% block content %}
    <h1>Пользователь: {{ user.username }}</h1>
    <hr>
    <form action="" method="post">
        {{ form.hidden_tag() }}
        <p>
            {{ form.topic.label }}<br>
            {{ form.topic(size=64)}}<br>
            {% for error in form.topic.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.body.label }}<br>
            {{ form.body(size=100)}}<br>
            {% for error in form.body.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}  
        </p>
        <p>
            {{ form.time_end.label }}<br>
            {{ form.time_end()}}<br>
            {% for error in form.time_end.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %} 
        </p>
        <p>{{ form.submit() }}</p>
    </form>
    {% for todo in todos %}
    <div>
        <p>
            <!-- ID: {{ todo.id }} ||  -->
            Автор:{{ todo.author.username }} 
            || Тема: <b>{{ todo.topic }}</b> 
            || Описание:  <b>{{ todo.body}}</b> 
            || Создана: {{ todo.created_at.strftime('%H:%M %d-%m-%Y') }} 
            || Завершить до: {{ todo.time_end.strftime('%d-%m-%Y')}}
        </p>
    </div>
    {% endfor %}
{% endblock %}